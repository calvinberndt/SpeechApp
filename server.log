INFO:backend.chatterbox_tts_processor:Applied torch.load patch for mps compatibility
INFO:     Will watch for changes in these directories: ['/Users/calvinberndt/_GitHub/SpeechApp']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [17867] using WatchFiles
INFO:watchfiles.main:6 changes detected
INFO:watchfiles.main:8 changes detected
INFO:watchfiles.main:2 changes detected
INFO:backend.chatterbox_tts_processor:Applied torch.load patch for mps compatibility
INFO:     Started server process [17932]
INFO:     Waiting for application startup.
INFO:backend.speech_processor:Initializing Kyutai STT model...
INFO:backend.speech_processor:Kyutai STT model initialized successfully
INFO:backend.llm_client:Checking Ollama server at http://localhost:11434...
INFO:backend.llm_client:Found model: openhermes:latest
INFO:backend.llm_client:LLM client initialized with model: openhermes
INFO:backend.chatterbox_tts_processor:Initializing Chatterbox TTS model on mps...
/Users/calvinberndt/_GitHub/SpeechApp/.venv/lib/python3.11/site-packages/diffusers/models/lora.py:393: FutureWarning: `LoRACompatibleLinear` is deprecated and will be removed in version 1.0.0. Use of `LoRACompatibleLinear` is deprecated. Please switch to PEFT backend by installing PEFT: `pip install peft`.
  deprecate("LoRACompatibleLinear", "1.0.0", deprecation_message)
INFO:root:input frame rate=25
INFO:backend.chatterbox_tts_processor:Applying performance optimizations for mps...
INFO:backend.chatterbox_tts_processor:Moved all model components to MPS device (without half precision to avoid type conflicts)
INFO:backend.chatterbox_tts_processor:Applied torch.compile to T3 model
INFO:backend.chatterbox_tts_processor:Applied torch.compile to S3Gen model
INFO:backend.chatterbox_tts_processor:Applied aggressive speed optimization to T3 inference
INFO:backend.chatterbox_tts_processor:âœ… Chatterbox TTS model initialized successfully on mps
INFO:     Application startup complete.
loaded PerthNet (Implicit) at step 250,000
INFO:     127.0.0.1:54747 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54750 - "GET / HTTP/1.1" 200 OK
INFO:     ('127.0.0.1', 54755) - "WebSocket /ws/user-8710" [accepted]
INFO:main:Client user-8710 connected
INFO:     connection open
INFO:     127.0.0.1:54770 - "GET / HTTP/1.1" 200 OK
INFO:main:Client user-8710 disconnected
INFO:     connection closed
INFO:     ('127.0.0.1', 54774) - "WebSocket /ws/user-471" [accepted]
INFO:main:Client user-471 connected
INFO:     connection open
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:5 changes detected
